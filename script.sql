CREATE USER 'pj2'@'%' IDENTIFIED WITH mysql_native_password BY 'mysql';
GRANT ALL PRIVILEGES ON *.* TO 'pj2'@'%';
FLUSH PRIVILEGES;
-- MySQL Script generated by MySQL Workbench
-- Thu Feb  1 19:42:21 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET time_zone = '+07:00';
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';
-- -----------------------------------------------------
-- Schema sasit
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `sasit` ;

-- -----------------------------------------------------
-- Schema sasit
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `sasit` DEFAULT CHARACTER SET utf8 ;
USE `sasit` ;

-- -----------------------------------------------------
-- Table `sasit`.`student_profile`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`student_profile` (
  `std_id` BIGINT(20) NOT NULL,
  `std_firstname` VARCHAR(45) NOT NULL,
  `std_lastname` VARCHAR(45) NOT NULL,
  `std_major` VARCHAR(5) NOT NULL,
  `std_email` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`std_id`))
ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `sasit`.`admin_profile`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`admin_profile` (
  `admin_id` INT NOT NULL AUTO_INCREMENT,
  `admin_firstname` VARCHAR(45) NOT NULL,
  `admin_lastname` VARCHAR(45) NOT NULL,
  `admin_username` VARCHAR(45) NOT NULL,
  `admin_password` VARCHAR(256) NOT NULL,
  PRIMARY KEY (`admin_id`))
ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `sasit`.`staff_profile`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`staff_profile` (
  `staff_id` BIGINT(20) NOT NULL,
  `staff_firstname` VARCHAR(45) NOT NULL,
  `staff_lastname` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`staff_id`))
ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `sasit`.`lecturer`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`lecturer` (
  `lecturer_id` BIGINT(20) NOT NULL,
  `lecturer_firstname` VARCHAR(45) NOT NULL,
  `lecturer_lastname` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`lecturer_id`))
ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `sasit`.`subject`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`subject` (
  `subject_id` VARCHAR(10) NOT NULL,
  `subject_title` VARCHAR(100) NOT NULL,
  `subject_description` VARCHAR(600) NOT NULL,
  PRIMARY KEY (`subject_id`))
ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `sasit`.`title`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`title` (
  `title_id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NOT NULL,
  `title_description` VARCHAR(100) NULL,
  PRIMARY KEY (`title_id`))
ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `sasit`.`classes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`classes` (
  `subject_id` VARCHAR(10) NOT NULL,
  `class_id` INT NOT NULL AUTO_INCREMENT,
  `academic_year` INT NOT NULL,
  `semester` INT NOT NULL,
  `sec` INT NOT NULL,
  INDEX `fk_classes_subject1_idx` (`subject_id` ASC) VISIBLE,
  PRIMARY KEY (`class_id`),
  CONSTRAINT `fk_classes_subject1`
    FOREIGN KEY (`subject_id`)
    REFERENCES `sasit`.`subject` (`subject_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `sasit`.`scores`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`scores` (
  `scores` FLOAT NOT NULL,
  `note` VARCHAR(400) NULL,
  `score_id` INT NOT NULL AUTO_INCREMENT,
  `title_id` INT NOT NULL,
  `last_update` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  `std_id` BIGINT(20) NOT NULL,
  `class_id` INT NOT NULL,
  PRIMARY KEY (`score_id`),
  INDEX `fk_scores_title1_idx` (`title_id` ASC) VISIBLE,
  INDEX `fk_scores_student_profile1_idx` (`std_id` ASC) VISIBLE,
  INDEX `fk_scores_classes1_idx` (`class_id` ASC) VISIBLE,
  CONSTRAINT `fk_scores_title1`
    FOREIGN KEY (`title_id`)
    REFERENCES `sasit`.`title` (`title_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_scores_student_profile1`
    FOREIGN KEY (`std_id`)
    REFERENCES `sasit`.`student_profile` (`std_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_scores_classes1`
    FOREIGN KEY (`class_id`)
    REFERENCES `sasit`.`classes` (`class_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;
-- ----------------------------------------------------
-- Table `sasit`.`enrollments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`enrollments` (
  `student_id` BIGINT(20) NOT NULL,
  `class_id` INT NOT NULL,
  `enrollment_id` INT NOT NULL AUTO_INCREMENT,
  INDEX `fk_student_profile_has_classes_classes1_idx` (`class_id` ASC) VISIBLE,
  INDEX `fk_student_profile_has_classes_student_profile1_idx` (`student_id` ASC) VISIBLE,
  PRIMARY KEY (`enrollment_id`),
  CONSTRAINT `fk_student_profile_has_classes_student_profile1`
    FOREIGN KEY (`student_id`)
    REFERENCES `sasit`.`student_profile` (`std_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_student_profile_has_classes_classes1`
    FOREIGN KEY (`class_id`)
    REFERENCES `sasit`.`classes` (`class_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `sasit`.`classes_supervisor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`classes_supervisor` (
  `lecturer_id` BIGINT(20) NOT NULL,
  `class_id` INT NOT NULL,
  PRIMARY KEY (`lecturer_id`, `class_id`),
  INDEX `fk_lecturer_has_classes_classes1_idx` (`class_id` ASC) VISIBLE,
  INDEX `fk_lecturer_has_classes_lecturer1_idx` (`lecturer_id` ASC) VISIBLE,
  CONSTRAINT `fk_lecturer_has_classes_lecturer1`
    FOREIGN KEY (`lecturer_id`)
    REFERENCES `sasit`.`lecturer` (`lecturer_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_lecturer_has_classes_classes1`
    FOREIGN KEY (`class_id`)
    REFERENCES `sasit`.`classes` (`class_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `sasit`.`staff_supervisor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `sasit`.`staff_supervisor` (
  `class_id` INT NOT NULL,
  `staff_id` BIGINT(20) NOT NULL,
  PRIMARY KEY (`class_id`, `staff_id`),
  INDEX `fk_classes_has_staff_profile_staff_profile1_idx` (`staff_id` ASC) VISIBLE,
  INDEX `fk_classes_has_staff_profile_classes1_idx` (`class_id` ASC) VISIBLE,
  CONSTRAINT `fk_classes_has_staff_profile_classes1`
    FOREIGN KEY (`class_id`)
    REFERENCES `sasit`.`classes` (`class_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_classes_has_staff_profile_staff_profile1`
    FOREIGN KEY (`staff_id`)
    REFERENCES `sasit`.`staff_profile` (`staff_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
-- insert student_profile
INSERT INTO student_profile
VALUES (63130500029, "nattakorn", "chotpattarajinda" ,"IT" ,"nattakorn.lol@mail.kmutt.ac.th");
INSERT INTO student_profile
VALUES (63130500086, "pichaya", "pairin" ,"IT" ,"pichaya.game@mail.kmutt.ac.th");
INSERT INTO student_profile
VALUES (63130500105, "wareewan", "pongpunchaikul" ,"IT" ,"wareewan.band@mail.kmutt.ac.th");
INSERT INTO student_profile
VALUES (63130500144, "phuchit", "uappapunsetty" ,"IT" ,"phuchit.yeti@mail.kmutt.ac.th");
-- insert lecture
INSERT INTO lecturer
VALUES (001, "pichet", "limvajiranan" );
INSERT INTO lecturer
VALUES (002, "OLARN", "ROJANAPORNPUN" );
INSERT INTO lecturer
VALUES (003, "SUNISA", "SATHAPORNVAJANA" );
INSERT INTO lecturer
VALUES (004, "UMAPORN", "SUPASITTHIMETHEE" );
INSERT INTO lecturer
VALUES (005, "SIAM", "YAMSAENGSUNG" );
INSERT INTO lecturer
VALUES (006, "Nantapong", "Keandoungchun" );
-- insert staff_profile
INSERT INTO staff_profile
VALUES (01, "staff_1", "sasit" );
INSERT INTO staff_profile
VALUES (02, "staff_2", "sasit" );
INSERT INTO staff_profile
VALUES (03, "staff_3", "sasit" );
-- insert admin profile
INSERT INTO admin_profile 
(`admin_firstname`, `admin_lastname`, `admin_username`, `admin_password`) VALUES
('sasit_1', 'admin', 'sasit1_admin', 'admin123');
INSERT INTO admin_profile 
(`admin_firstname`, `admin_lastname`, `admin_username`, `admin_password`) VALUES
('sasit_2', 'admin', 'sasit2_admin', 'admin123');
INSERT INTO admin_profile 
(`admin_firstname`, `admin_lastname`, `admin_username`, `admin_password`) VALUES
('sasit_3', 'admin', 'sasit3_admin', 'admin123');
-- insert subject
INSERT INTO subject
VALUES ("INT510", "Selected Topic in Software Development: Agile Software Develop","-");
INSERT INTO subject
VALUES ("INT371", "Capstone Project I","Information technology capstone project for the second semester of junior students; Information technology project proposal, feasibility study report, system analysis and design, implementation, report and project presentation");
INSERT INTO subject
VALUES ("GEN224", "LIVEABLE CITY","รายวิชานี้มุ่งเน้นแนวคิดในการทำความเข้าใจและสร้างความตระหนักต่อสภาพปัญหาของเมืองความหลากหลายทางสังคมและวัฒนธรรมที่ดำรงอยู่ในเมือง และแนวทางในการสร้างเมืองน่าอยู่ที่จะมีส่วนสนับสนุนให้บัณฑิตของมหาวิทยาลัยเทคโนโลยีพระจอมเกล้าธนบุรีมีทัศคติและความตระหนักต่อการมีส่วนร่วมกับปัญหาของเมืองในฐานะพื้นที่การใช้ชีวิตตามหลากหลายทางสังคม นอกจากนี้ รายวิชานี้มีแนวคิดในการสร้างความเข้าใจและความตระหนักต่อเป้าหมาย");
INSERT INTO subject
VALUES ("LNG224", "ORAL COMMUNICATION I" ,"รายวิชานี้มุ่งเน้นให้นักศึกษาเสริมสร้างความมั่นใจในการสื่อสารภาษาอังกฤษในชีวิตประจำวัน นักศึกษาพัฒนาทักษะการพูดผ่านการทำงานเดี่ยว งานคู่ และงานกลุ่ม ผ่านกิจกรรมต่างๆ อาทิเช่น การพูดนำเสนอผลงาน การแสดงบทบาทสมมติ และการถกเถียงแลกเปลี่ยนความคิดเห็น ในการพัฒนาทักษะการฟัง นักศึกษาจะได้ฝึกฝนการระบุข้อมูลจากการฟังจากอุปกรณ์บันทึกเสียงที่เป็นบทสนทนาในชีวิตประจำวัน สารคดี หรือการสอนการบรรยายในหัวข้อทั่วไป การฟังจากสื่อเหล่านี้จะเป็นต้นแบบในการฝึกพูดด้วยเช่นกัน");
INSERT INTO subject
VALUES ("GEN351", "MODERN MANAGEMENT AND LEADERSHIP","This course examines the modern management concept including basic functions of managementplanning, organizing, controlling, decision-making, communication, motivation, leadership, human resource management, management of information systems, social responsibilityand its application to particular circumstances.");
INSERT INTO subject
VALUES ("INT308", "SECURITY II","บริการด้านความมั่นคง กลไกและมาตรการตอบโต้การบุกรุก คุณสมบัติด้านความมั่นคง ลักษณะการบุกรุกและวิธีตรวจสอบ ระบบที่เชื่อมั่นได้สูง จุดอ่อน การคุกคามและความเสี่ยง การเข้ารหัสลับเบื้องต้น จุดอ่อนของระบบเว็บและโมบาย");
INSERT INTO subject
VALUES ("LNG304", "MEETING AND DISCUSSIONS","รายวิชานี้เน้นการพัฒนาความสามารถของนักศึกษาในการสื่อสาร การมีปฏิสัมพันธ์ในการประชุมหรือการสนทนาอย่างมีประสิทธิภาพ การเขียนรายงานการประชุม นักศึกษาจะได้เรียนรู้คำศัพท์ คำศัพท์เฉพาะที่เกี่ยวกับการประชุมและการสนทนา นักศึกษาจะสามารถใช้วลี หรือสำนวนในที่ประชุมและการสนทนาได้เหมาะสม นอกจากนี้นักศึกษาจะได้แสดงบทบาทสมมุติและได้แสดงบทบาทที่แตกต่างออกไป ในการประชุมและการสนทนา");
-- insert classes
INSERT INTO classes (`subject_id`,`academic_year`,`semester`,`sec`) VALUES 
("INT510",2566,1,1);
INSERT INTO classes (`subject_id`,`academic_year`,`semester`,`sec`) VALUES 
("GEN224",2566,1,1);
INSERT INTO classes (`subject_id`,`academic_year`,`semester`,`sec`) VALUES 
("INT371",2566,1,1);
INSERT INTO classes (`subject_id`,`academic_year`,`semester`,`sec`) VALUES 
("LNG224",2566,1,1);
INSERT INTO classes (`subject_id`,`academic_year`,`semester`,`sec`) VALUES 
("INT308",2565,2,1);
INSERT INTO classes (`subject_id`,`academic_year`,`semester`,`sec`) VALUES 
("GEN351",2565,2,1);
INSERT INTO classes (`subject_id`,`academic_year`,`semester`,`sec`) VALUES 
("LNG304",2565,2,1);
-- insert title
INSERT INTO title (`title`,`title_description`)
VALUES ("การสอบเก็บคะแนนวิชาINT510 ครั้งที่1","เก็บ 15%");
INSERT INTO title (`title`,`title_description`)
VALUES ("1st gen224 subject scoring exam","-");
INSERT INTO title (`title`,`title_description`)
VALUES ("2rd INT371 subject scoring exam","-");
-- insert enrollments
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500029, 1);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500029, 2);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500029, 3);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500029, 4);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500029, 5);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500029, 6);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500029, 7);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500086, 1);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500086, 2);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500086, 3);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500086, 4);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500086, 5);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500086, 6);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500086, 7);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500105, 1);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500105, 2);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500105, 3);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500105, 4);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500105, 5);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500105, 6);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500105, 7);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500144, 2);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500144, 4);
INSERT INTO enrollments (`student_id`, `class_id`) VALUES
(63130500144, 6);
-- insert scores
INSERT INTO scores (`scores`,`note`,`title_id`,`std_id`,`class_id`)
VALUES (9.99,"ทดลองระบบ",1,63130500029,1);
INSERT INTO scores (`scores`,`note`,`title_id`,`std_id`,`class_id`)
VALUES (9.99,"ทดลองระบบ",1,63130500086,1);
INSERT INTO scores (`scores`,`note`,`title_id`,`std_id`,`class_id`)
VALUES (9.99,"ทดลองระบบ",1,63130500105,1);
INSERT INTO scores (`scores`,`note`,`title_id`,`std_id`,`class_id`)
VALUES (10,"test",2,63130500105,2);
INSERT INTO scores (`scores`,`note`,`title_id`,`std_id`,`class_id`)
VALUES (9.99,"ทดลองระบบ",1,63130500144,1);
-- insert classes_supervisor
INSERT INTO classes_supervisor VALUES
(001,3);
INSERT INTO classes_supervisor VALUES
(002,1);
INSERT INTO classes_supervisor VALUES
(002,3);
INSERT INTO classes_supervisor VALUES
(003,3);
INSERT INTO classes_supervisor VALUES
(004,3);
INSERT INTO classes_supervisor VALUES
(005,3);
INSERT INTO classes_supervisor VALUES
(006,3);
-- insert staff_supervisor
INSERT INTO staff_supervisor
VALUES (1,01);
INSERT INTO staff_supervisor
VALUES (2,02);
INSERT INTO staff_supervisor
VALUES (3,03);
INSERT INTO staff_supervisor
VALUES (4,01);
INSERT INTO staff_supervisor
VALUES (5,02);
INSERT INTO staff_supervisor
VALUES (6,03);
INSERT INTO staff_supervisor
VALUES (7,01);

